function deleteChatbot(chatbotId) {
  const token = localStorage.getItem('token');
  console.log("Deleting chatbot with ID:", chatbotId);

  // Using SweetAlert to ask for user confirmation before deleting
  Swal.fire({
    title: 'Are you sure?',
    text: "This action will delete the chatbot and its FAQs, and it cannot be undone.",
    icon: 'warning',
    showCancelButton: true,
    confirmButtonColor: '#d33',
    cancelButtonColor: '#3085d6',
    confirmButtonText: 'Yes, delete it!',
    cancelButtonText: 'Cancel'
  }).then((result) => {
    if (result.isConfirmed) {
      // Proceed with the delete request if confirmed
      fetch(`/api/chatbots/${chatbotId}`, {
        method: 'DELETE',
        headers: {
          'Authorization': `Bearer ${token}`
        }
      })
      .then(response => {
        if (!response.ok) {
          throw new Error('Failed to delete chatbot');
        }
        return response.json();
      })
      .then(() => {
        Swal.fire(
          'Deleted!',
          'The chatbot has been deleted.',
          'success'
        );
        loadChatbots(); // Reload the chatbot list after deletion
      })
      .catch(error => {
        console.error('Error deleting chatbot:', error);
        Swal.fire(
          'Error!',
          'Failed to delete chatbot. Please try again.',
          'error'
        );
      });
    }
  });
}
